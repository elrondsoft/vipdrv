<div class="experts-table-template table-responsive">
    <table class="experts-table-body table table-bordered table-hover"
           *ngIf="isInitialized()">
        <thead>
        <tr>
            <th translate class="experts-table-body-column-photo">experts.table.headerText_avatar</th>
            <th translate class="experts-table-body-column-full-name">experts.table.headerText_expertName</th>
            <th translate class="experts-table-body-column-activity">general.table.headerText.activity</th>
            <th translate class="experts-table-body-column-order">general.table.headerText.order</th>
            <th class="experts-table-body-column-actions">
                <button type="button"
                        class="btn btn-outline-success btn-sm"
                        translate
                        (click)="modalOpenCreate(); $event.stopPropagation();">
                    general.actions.text_create
                </button>
            </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of items"
            (click)="modalOpenInfo(item.id)"
            ngClass="{{getEntityRowClass(item)}}">
            <td>
                <img class="rounded-circle"
                     alt="no photo"
                     [src]="item.photoUrl"
                     [width]="50"
                     [height]="50">
            </td>
            <td>{{item.name}}</td>
            <td>
                <ui-switch color="{{switcherSettings.color}}"
                           switchColor="{{switcherSettings.switchColor}}"
                           defaultBgColor="{{switcherSettings.defaultBgColor}}"
                           defaultBoColor="{{switcherSettings.defaultBoColor}}"
                           (click)="onChangeEntityActivity(item); $event.stopPropagation();"
                           [ngModel]="item.isActive">
                </ui-switch>
            </td>
            <td>
                <button type="button"
                        class="btn btn-sm btn-secondary"
                        [disabled]="!canDecrementOrder(item)"
                        (click)="decrementOrder(item); $event.stopPropagation();">
                    <i class="fa fa-chevron-up" aria-hidden="true"></i>
                </button>
                <button type="button"
                        class="btn btn-sm btn-secondary"
                        [disabled]="!canIncrementOrder(item)"
                        (click)="incrementOrder(item); $event.stopPropagation();">
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                </button>
            </td>
            <td class="experts-table-body-column-actions">
                <button type="button"
                        class="btn btn-outline-primary btn-sm"
                        translate
                        (click)="modalOpenEdit(item.id); $event.stopPropagation();">
                    general.actions.text_edit
                </button>
                <button type="button"
                        class="btn btn-outline-danger btn-sm"
                        translate
                        (click)="openConfirmationDeleteModal(item.id); $event.stopPropagation();">
                    general.actions.text_delete
                </button>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<modal #expertDetailsModal
       size="lg"
       [backdrop]="'static'">
    <modal-header>
        <h5 class="modal-title">
            <span class="test-drive-modal-header-text" translate>experts.modal.title</span>
        </h5>
        <button type="button"
                class="close"
                aria-label="Close"
                (click)="modalDismiss(); $event.stopPropagation();">
            <span aria-hidden="true">&times;</span>
        </button>
    </modal-header>
    <modal-body>
        <expert-details-info *ngIf="isSelectedEntityDefined() && isOperationModeInfo"
                             [entity]="entity">
        </expert-details-info>
        <expert-details-edit *ngIf="isSelectedEntityDefined() && isOperationModeAddOrUpdate"
                             [isReadOnly]=""
                             [useValidation]=""
                             [entity]="entity"></expert-details-edit>
    </modal-body>
    <modal-footer>
        <button type="button"
                class="btn btn-secondary test-drive-modal-close-btn"
                (click)="modalDismiss(); $event.stopPropagation();">
            <span translate>general.actions.modalClose</span>
        </button>
        <button type="button"
                class="btn btn-primary test-drive-modal-apply-btn"
                *ngIf="isOperationModeAddOrUpdate"
                (click)="modalApply(); $event.stopPropagation();">
            <span translate>general.actions.modalApply</span>
        </button>
    </modal-footer>
</modal>

<modal #confirmationDeleteModal
       [backdrop]="'static'">
    <modal-header>
        <h5 class="modal-title">
            <span class="test-drive-modal-header-text" translate>
                confirmation.title
            </span>
        </h5>
        <button type="button"
                class="close"
                aria-label="Close"
                (click)="closeConfirmationDeleteModal(); $event.stopPropagation();">
            <span aria-hidden="true">&times;</span>
        </button>
    </modal-header>
    <modal-body>
        <span [translateParams]="{ expertName: getDeleteCandidateDisplayText() }"
              translate>
            confirmation.expertDeleteAnswer_expertName
        </span>
    </modal-body>
    <modal-footer>
        <button type="button"
                class="btn btn-secondary test-drive-modal-close-btn"
                (click)="closeConfirmationDeleteModal(); $event.stopPropagation();">
            <span translate>confirmation.cancel</span>
        </button>
        <button type="button"
                class="btn btn-primary test-drive-modal-apply-btn"
                (click)="acceptConfirmationDeleteModal(); $event.stopPropagation();">
            <span translate>confirmation.confirm</span>
        </button>
    </modal-footer>
</modal>