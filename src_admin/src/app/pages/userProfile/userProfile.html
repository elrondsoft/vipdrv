<div class="test-drive-page">
    <div class="row test-drive-page-title">
        <div class="col-12">
            <nav aria-label="breadcrumb" role="navigation">
                <ol class="breadcrumb test-drive-breadcrumb">
                    <li class="breadcrumb-item active" aria-current="page">
                        <span translate>userProfile.userProfileMainTitle</span>
                    </li>
                </ol>
            </nav>
        </div>
    </div>
    <div class="row test-drive-page-content ng-busy-parent-container">
        <div class="col-12"
             [ngBusy]="userLoadingPromise">
            <ul class="nav nav-tabs"
                id="user-profile-tabs"
                role="tablist">
                <li class="nav-item">
                    <a id="personal-info-tab"
                       class="nav-link active"
                       href="#personalInfo"
                       data-toggle="tab"
                       role="tab"
                       aria-controls="personal-info-tab"
                       aria-expanded="true"
                       translate>
                        userProfile.tabs.personalInfo
                    </a>
                </li>
                <li class="nav-item">
                    <a id="avatar-tab"
                       class="nav-link"
                       href="#avatar"
                       data-toggle="tab"
                       role="tab"
                       aria-controls="avatar-tab"
                       translate>
                        userProfile.tabs.avatar
                    </a>
                </li>
                <li class="nav-item">
                    <a id="change-password-tab"
                       class="nav-link"
                       href="#changePassword"
                       data-toggle="tab"
                       role="tab"
                       aria-controls="change-password-tab"
                       translate>
                        userProfile.tabs.changePassword
                    </a>
                </li>
            </ul>
            <div id="site-details"
                 class="tab-content">
                <div id="personalInfo"
                     class="tab-pane fade show active"
                     role="tabpanel"
                     aria-labelledby="personal-info-tab">
                    <div class="user-profile-tab-content"
                         *ngIf="isUserDefined()">
                        <user-personal-info [user]="user"
                                            (personalInfoPatched)='onUpdatePersonalInfo($event)'></user-personal-info>
                    </div>
                </div>
                <div id="avatar"
                     class="tab-pane fade show"
                     role="tabpanel"
                     aria-labelledby="avatar-tab">
                    <div class="user-profile-tab-content"
                         *ngIf="isUserDefined()">
                        <user-avatar-update [userId]="userId"
                                            [avatarUrl]="user.avatarUrl"
                                            (avatarUrlPatched)='onUpdateAvatarUrl($event)'></user-avatar-update>
                    </div>
                </div>
                <div id="changePassword"
                     class="tab-pane fade show"
                     role="tabpanel"
                     aria-labelledby="change-password-tab">
                    <div class="user-profile-tab-content"
                         *ngIf="isUserIdDefined()">
                        <user-password-update [userId]="userId"
                                              (passwordPatched)='onUpdatePassword($event)'></user-password-update>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>