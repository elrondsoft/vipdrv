using QuantumLogic.Core.Utils.Storage;
using System;
using Xunit;
using Assert = NUnit.Framework.Assert;

namespace QuantumLogic.xUnitTests.Core.Utils.Storage
{
    public class StorageManagerTests
    {
        protected IContentManager ContentManager { get; set; }

        public StorageManagerTests()
        {
            ContentManager = new ContentManager();
        }

        [Fact]
        public void Base64image__ShouldUploadFileToContainer()
        {
            Assert.DoesNotThrowAsync(
                async () =>
                {
                    string fileName = "expert-igame-1";
                    string stringInBase64WithContentType =
                        "data:image/jpeg;base64,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";
                    string stringInBase64 = stringInBase64WithContentType.Split(',')[1];
                    byte[] bytes = Convert.FromBase64String(stringInBase64);
                    string imageUrl = (await ContentManager.SaveFile(bytes, fileName, "image/jpeg")).AbsoluteUri;
                    Console.WriteLine(imageUrl);
                });
        }
    }
}
